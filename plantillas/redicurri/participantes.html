{% extends "base/main.html" %}
{% load material_form %}
{% load material_form_internal %}
{% load static %}
	{% block body %}
		<div class="container row">
			<div class="card hoverable col s12">
				<h4 class="center-align">Etapa Final - Participantes</h4>
				<form method="POST" action="">
					{% csrf_token %}
					
					{% for form in formset %}
						{% form form=form %}{% endform %}
					{% endfor %}
					{{ formset.management_form }}
					<div class="row input-field">
						<div class="col s12 card-action center-align">
							<button class="btn waves-effect waves-light" type="submit" name="envio">Adherir/Eliminar
		    					<i class="material-icons right">send</i>
		  					</button>
		  					<button class="btn waves-effect waves-light" id="cerrar" type="submit" name="cerrar">Cerrar
		    					<i class="material-icons right">send</i>
		  					</button>
						</div>
  					</div>
				</form>
			</div>
		</div>
		<!-- Modal Structure -->
		<div id="modal1" class="modal">
			<div class="modal-content">
				<h4>Atención!!!</h4>
				<p>Al presionar enviar se enviara el formulario y se cerrara la evaluación.</p>
			</div>
			<div class="modal-footer">
				<a href="#!" class="modal-close waves-effect waves-green btn-flat">Cancelar</a>
				<a id="aceptar" href="#!" class="modal-close waves-effect waves-green btn-flat">Enviar</a>
			</div>
		</div>x
		  
	{% endblock body %}
	{% block estilos2 %}
		<script type="text/javascript" charset="utf-8">
			res = document.querySelectorAll('div[id*="-DELETE_container"]');
			for(i=0;i<res.length;i++){
				res[i].setAttribute("style","padding:20px;");
			}

			modal = M.Modal.getInstance(document.getElementById("modal1"));
			cerrar = document.getElementById("cerrar");
			cerrar.addEventListener('click',function(event){
				event.preventDefault();
				modal.open();
			});
			aceptar = document.getElementById('aceptar');
			aceptar.addEventListener('click',function(event){
				comi.submit()
			});
		</script>
	{% endblock estilos2 %}