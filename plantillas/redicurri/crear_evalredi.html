{% extends "base/main.html" %}
{% load material_form %}
	{% block body %}
		<div class="container row">
			<div class="card hoverable col s12">
				<h4 class="center-align">Evaluación Al Rediseño Curricular</h4>
				<form method="POST" action="">
					{% csrf_token %}
					{% form form=form %}{% endform %}
					<div class="row input-field">
						<div class="col s12 card-action center-align">
							<button class="btn waves-effect waves-light" type="submit" name="action">Enviar
		    					<i class="material-icons right">send</i>
		  					</button>
						</div>
  					</div>
				</form>
			</div>
		</div>
		<script type="text/javascript" charset="utf-8">

			function activar_cascada(){
				paso = false;
				for(i=1;i<=7;i++){
					res = document.getElementById('id_retapa_'+i);
					if(!res.checked && ((i+1)<=7) && !paso){
						console.log('id_retapa_'+(i+1))
						paso = true;
					}
					if(paso && ((i+1)<=7)){
						document.getElementById('id_retapa_'+(i+1)).setAttribute("disabled","");
						document.getElementById('id_retapa_'+(i+1)).checked=false;
					}
					else{
						if((i+1)<=7){
							element = document.getElementById('id_retapa_'+(i+1));
							try{
								element.removeAttribute("disabled");
							}catch(error){
								console.log("error");
							}

						}
					}
				}
			}
			activar_cascada();
			
			for(i=1;i<=7;i++){
				res = document.getElementById('id_retapa_'+i);
				res.addEventListener('change',function(){
					//console.log("otro");
					activar_cascada();
				});
			}
			
		</script>
	{% endblock body %}